<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel - Liberation War Museum Archive</title>
    <meta name="description" content="Administrative panel for managing the Liberation War Museum Archive system">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700;900&family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="css/admin.css">
</head>
<body>
    <!-- Admin Header -->
    <header class="admin-header">
        <div class="header-content">
            <div class="logo">
                <div class="logo-icon">
                    <i class="fas fa-landmark"></i>
                </div>
                <div class="logo-text">
                    <h1>Liberation War Museum</h1>
                    <span>Admin Panel</span>
                </div>
            </div>
            <div class="user-info">
                <div class="user-details">
                    <span id="adminName">Admin User</span>
                    <span id="adminEmail">admin@museum.org</span>
                </div>
                <button class="btn btn-outline" onclick="logout()">
                    <i class="fas fa-sign-out-alt"></i>
                    Logout
            </button>
        </div>
        </div>
    </header>

    <!-- Admin Navigation -->
    <nav class="admin-nav">
        <div class="nav-container">
            <button class="nav-btn active" data-section="dashboard">
                <i class="fas fa-tachometer-alt"></i>
                        Dashboard
            </button>
            <button class="nav-btn" data-section="artifacts">
                <i class="fas fa-archive"></i>
                Artifact Management
            </button>
            <button class="nav-btn" data-section="users">
                <i class="fas fa-users"></i>
                User Management
            </button>
            <button class="nav-btn" data-section="reports">
                <i class="fas fa-chart-bar"></i>
                        Reports
            </button>
            <button class="nav-btn" data-section="logs">
                <i class="fas fa-list-alt"></i>
                System Logs
            </button>
        </div>
        </nav>

    <!-- Main Content -->
    <main class="admin-main">
        <!-- Dashboard Section -->
        <section id="dashboard" class="admin-section active">
            <div class="section-header">
                <h2>Dashboard</h2>
                <p>Welcome to the Liberation War Museum Archive Administration Panel</p>
            </div>
            
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-archive"></i>
                    </div>
                    <div class="stat-content">
                        <h3 id="totalArtifacts">0</h3>
                        <p>Total Artifacts</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-users"></i>
                    </div>
                    <div class="stat-content">
                        <h3 id="totalUsers">0</h3>
                        <p>Registered Users</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-eye"></i>
                    </div>
                    <div class="stat-content">
                        <h3 id="totalViews">0</h3>
                        <p>Total Views</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-upload"></i>
                </div>
                    <div class="stat-content">
                        <h3 id="recentUploads">0</h3>
                        <p>Recent Uploads</p>
                </div>
                </div>
            </div>

            <div class="dashboard-grid">
                <div class="dashboard-card">
                    <h3>Recent Activity</h3>
                    <div id="recentActivity" class="activity-list">
                        <!-- Activity items will be loaded here -->
                    </div>
                </div>
                <div class="dashboard-card">
                    <h3>Quick Actions</h3>
                    <div class="quick-actions">
                        <button class="btn btn-primary" onclick="showSection('artifacts')">
                            <i class="fas fa-plus"></i>
                            Upload Artifact
                        </button>
                        <button class="btn btn-outline" onclick="showSection('users')">
                            <i class="fas fa-user-plus"></i>
                            Add User
                        </button>
                        <button class="btn btn-outline" onclick="showSection('reports')">
                            <i class="fas fa-download"></i>
                            Generate Report
                        </button>
                        </div>
                        </div>
            </div>
        </section>

        <!-- Artifact Management Section -->
        <section id="artifacts" class="admin-section">
            <div class="section-header">
                <h2>Artifact Management</h2>
                <button class="btn btn-primary" onclick="openUploadModal()">
                    <i class="fas fa-plus"></i>
                    Upload New Artifact
                </button>
            </div>
            
            <div class="filters-bar">
                <div class="search-box">
                    <input type="text" id="artifactSearch" placeholder="Search artifacts...">
                    <button class="search-btn" aria-label="Search artifacts">
                        <i class="fas fa-search"></i>
                    </button>
                </div>
                <div class="filter-options">
                                        <select id="typeFilter" aria-label="Filter by artifact type">
                        <option value="">All Types</option>
                        <option value="document">Documents</option>
                        <option value="weapon">Weapons</option>
                        <option value="personal">Personal Items</option>
                        <option value="photo">Photos</option>
                    </select>
                    <select id="dateFilter" aria-label="Filter by date">
                        <option value="">All Dates</option>
                        <option value="today">Today</option>
                        <option value="week">This Week</option>
                        <option value="month">This Month</option>
                    </select>
                    </div>
                </div>
            
            <div class="table-container">
                <table class="admin-table">
                    <thead>
                        <tr>
                            <th>Collection No.</th>
                            <th>Name</th>
                            <th>Type</th>
                            <th>Donor</th>
                            <th>Date Added</th>
                            <th>Actions</th>
                            </tr>
                        </thead>
                    <tbody id="artifactsTable">
                        <!-- Artifacts will be loaded here -->
                        </tbody>
                    </table>
            </div>
        </section>

        <!-- User Management Section -->
        <section id="users" class="admin-section">
            <div class="section-header">
                <h2>User Management</h2>
                <button class="btn btn-primary" onclick="openUserModal()">
                    <i class="fas fa-user-plus"></i>
                    Add New User
                </button>
            </div>
            
            <div class="table-container">
                <table class="admin-table">
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>Email</th>
                            <th>Role</th>
                            <th>Status</th>
                            <th>Join Date</th>
                            <th>Actions</th>
                            </tr>
                        </thead>
                    <tbody id="usersTable">
                        <!-- Users will be loaded here -->
                        </tbody>
                    </table>
            </div>
        </section>

        <!-- Reports Section -->
        <section id="reports" class="admin-section">
            <div class="section-header">
                <h2>Report Generation</h2>
                <p>Generate detailed reports about artifacts and system usage</p>
            </div>
            
            <div class="reports-grid">
                <div class="report-card">
                    <h3>Artifact Report</h3>
                    <form class="report-form">
                        <div class="form-group">
                            <label>Sort By:</label>
                                                        <select id="sortBy" aria-label="Sort report by">
                                <option value="collectionNo">Collection No.</option>
                                <option value="collectionDate">Collection Date</option>
                                <option value="objectType">Object Type</option>
                                <option value="objectHead">Object Head</option>
                            </select>
                    </div>
                        <div class="form-group">
                            <label>Date Range:</label>
                            <div class="date-range">
                                <input type="date" id="startDate" aria-label="Start date">
                                <span>to</span>
                                <input type="date" id="endDate" aria-label="End date">
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Columns to Include:</label>
                            <div class="checkbox-group">
                                <label><input type="checkbox" value="collectionNo" checked> Collection No.</label>
                                <label><input type="checkbox" value="accessionNo" checked> Accession No.</label>
                                <label><input type="checkbox" value="donor" checked> Donor</label>
                                <label><input type="checkbox" value="objectType" checked> Object Type</label>
                                <label><input type="checkbox" value="objectHead" checked> Object Head</label>
                                <label><input type="checkbox" value="collectionDate" checked> Collection Date</label>
                            </div>
                        </div>
                        <div class="form-actions">
                            <button type="button" class="btn btn-primary" onclick="generateReport()">
                                <i class="fas fa-file-alt"></i>
                                Generate Report
                            </button>
                            <button type="button" class="btn btn-outline" onclick="downloadExcel()">
                                <i class="fas fa-file-excel"></i>
                                Download Excel
                            </button>
                        </div>
                    </form>
                </div>
                
                <div class="report-card">
                    <h3>System Statistics</h3>
                    <div class="stats-list">
                        <div class="stat-item">
                            <span class="stat-label">Total Artifacts:</span>
                            <span class="stat-value" id="reportTotalArtifacts">0</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">Total Users:</span>
                            <span class="stat-value" id="reportTotalUsers">0</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">System Uptime:</span>
                            <span class="stat-value" id="systemUptime">0 days</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">Storage Used:</span>
                            <span class="stat-value" id="storageUsed">0 MB</span>
                        </div>
                    </div>
                    </div>
                </div>
        </section>

        <!-- System Logs Section -->
        <section id="logs" class="admin-section">
            <div class="section-header">
                <h2>System Logs</h2>
                <p>Monitor system activity and user actions</p>
            </div>
            
            <div class="logs-container">
                <div class="logs-filters">
                    <select id="logLevel" aria-label="Filter by log level">
                        <option value="">All Levels</option>
                        <option value="info">Info</option>
                        <option value="warning">Warning</option>
                        <option value="error">Error</option>
                    </select>
                    <input type="date" id="logDate" aria-label="Filter by log date">
                    <button class="btn btn-outline" onclick="refreshLogs()">
                        <i class="fas fa-refresh"></i>
                        Refresh
                    </button>
                </div>
                
                <div class="logs-table">
                    <table class="admin-table">
                        <thead>
                            <tr>
                                <th>Timestamp</th>
                                <th>Level</th>
                                <th>User</th>
                                <th>Action</th>
                                <th>Details</th>
                            </tr>
                        </thead>
                        <tbody id="logsTable">
                            <!-- Logs will be loaded here -->
                        </tbody>
                    </table>
                </div>
            </div>
        </section>
    </main>

    <!-- Upload Artifact Modal -->
    <div id="uploadModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Upload New Artifact</h2>
                <button class="close-btn" onclick="closeUploadModal()">&times;</button>
            </div>
            <form id="uploadForm" enctype="multipart/form-data">
                <div class="form-grid">
                    <div class="form-group">
                        <label for="collectionNumber">Collection Number *</label>
                        <input type="text" id="collectionNumber" name="collection_no" required>
                    </div>
                    <div class="form-group">
                        <label for="accessionNumber">Accession Number *</label>
                        <input type="text" id="accessionNumber" name="accession_no" required>
                    </div>
                    <div class="form-group">
                        <label for="collectionDate">Collection Date *</label>
                        <input type="date" id="collectionDate" name="collection_date" required>
                    </div>
                    <div class="form-group">
                        <label for="contributorName">Contributor Name *</label>
                        <input type="text" id="contributorName" name="donor" required>
                    </div>
                    <div class="form-group">
                        <label for="objectType">Object Type *</label>
                        <input type="text" id="objectType" name="object_type" required>
                    </div>
                    <div class="form-group">
                        <label for="objectHead">Object Head *</label>
                        <input type="text" id="objectHead" name="object_head" required>
                    </div>
                    <div class="form-group full-width">
                        <label for="description">Description *</label>
                        <textarea id="description" name="description" rows="3" required></textarea>
                    </div>
                    <div class="form-group">
                        <label for="measurement">Measurement</label>
                        <input type="text" id="measurement" name="measurement">
                    </div>
                    <div class="form-group">
                        <label for="galleryNumber">Gallery Number</label>
                        <input type="text" id="galleryNumber" name="gallery_no">
                    </div>
                    <div class="form-group full-width">
                        <label for="foundPlace">Found Place Information</label>
                        <input type="text" id="foundPlace" name="found_place">
                    </div>
                    <div class="form-group">
                        <label for="experimentFormula">Experiment Formula</label>
                        <input type="text" id="experimentFormula" name="experiment_formula">
                    </div>
                    <div class="form-group full-width">
                        <label for="significance">Significance Comment</label>
                        <textarea id="significance" name="significance_comment" rows="2"></textarea>
                    </div>
                    <div class="form-group full-width">
                        <label for="correction">Correction</label>
                        <input type="text" id="correction" name="correction">
                    </div>
                    <div class="form-group full-width">
                        <label for="artifactImages">Artifact Images (Max 5 images) *</label>
                        <input type="file" id="artifactImages" name="images" multiple accept="image/*" required>
                        <small>Select up to 5 images for this artifact</small>
                    </div>
                </div>
                <div class="form-actions">
                    <button type="button" class="btn btn-outline" onclick="closeUploadModal()">Cancel</button>
                    <button type="submit" class="btn btn-primary">
                        <i class="fas fa-upload"></i>
                        Upload Artifact
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- User Modal -->
    <div id="userModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Add New User</h2>
                <button class="close-btn" onclick="closeUserModal()">&times;</button>
            </div>
            <form id="userForm">
                <div class="form-group">
                    <label for="userName">Full Name *</label>
                    <input type="text" id="userName" name="name" required>
                </div>
                <div class="form-group">
                    <label for="userEmail">Email Address *</label>
                    <input type="email" id="userEmail" name="email" required>
                </div>
                <div class="form-group">
                    <label for="userPassword">Password *</label>
                    <input type="password" id="userPassword" name="password" required>
                </div>
                <div class="form-group">
                    <label for="userRole">Role *</label>
                    <select id="userRole" name="role" required>
                        <option value="user">User</option>
                        <option value="admin">Administrator</option>
                    </select>
                </div>
                <div class="form-actions">
                    <button type="button" class="btn btn-outline" onclick="closeUserModal()">Cancel</button>
                    <button type="submit" class="btn btn-primary">
                        <i class="fas fa-user-plus"></i>
                        Add User
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Notification Container -->
    <div id="notificationContainer" class="notification-container"></div>

    <script src="js/admin.js"></script>
</body>
</html>
